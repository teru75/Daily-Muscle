<div class="nested-fields">
  <div class="" style="padding: 10px; border-bottom: 1px solid #eee; background-color: #eeeaec;">
  <%= f.label :name, "メニュー" %>
  <%= f.text_field :name, class:"form-control" %>
  </div>
  <div style="border-bottom: 1px solid #eee; padding: 5px;">
  <%= link_to_remove_association "メニューを削除", f %>
</div>
  

    <%= f.fields_for :reps do |r| %>
      <%= render "rep_fields", f: r %>
    <% end %>
  
    <div class="links" style="padding: 5px; border-bottom: 1px solid #eee; ">
    <%= link_to_add_association "重さなどを追加", f, :reps %>
  </div>
</div>


<script>
  let i = 1
  $('td').attr("id", _ => i++);
</script>